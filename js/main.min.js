"use strict";$(document).ready(function(){function c(e,o){o=o||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(o);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}var n={filename:"https://github.com/serg05122/atom/raw/master/atom.exe",rfr:"530000",prefix:"0",params:{with_value:"arf=1&autorun=1"},ext_params:{from_cookies:"mr1luid, mr1lad, mr1lext, VID"}},r=window.linkFormer.default.newDownloadLink,e=$(".analytics");e.on("click",function(e){(new Image).src="https://rs.mail.ru/g163135.gif";var o=e.currentTarget.getAttribute("data-category");gtag("event","send",{event_category:o}),yaCounter49733287.reachGoal(o)});var a=c("rfr");e.each(function(e,o){a&&(n.rfr=a),o.getAttribute("data-screen")&&(n.params.with_value="arf=1&autorun=1&screen="+o.getAttribute("data-screen"));var t=r(n);o.href=t}),$(".analytics").on("click",function(){var e=c("rfr")||"530000",o=encodeURIComponent(location.href.replace(location.search,"").replace(location.hash,"")),t=this.getAttribute("data-screen"),n="https://bs.browser.mail.ru/showpxt/?type=land.action&rfr="+e+"&action=accept&url="+o;t&&(n+="&screen="+t),(new Image).src=n})}),$(document).ready(function(){var o,t=navigator.userAgent,e=detect.parse(t),n=e.browser.family.toLowerCase(),c=e.os.family.toLowerCase(),r=$(".js-feature-title"),a=$(".js-feature-description"),i={edge:{title:"В&nbsp;3&nbsp;раза быстрее вашего браузера",description:"Atom<br> обрабатывает JavaScript в&nbsp;3&nbsp;раза<br> быстрее Microsoft Edge."},firefox:{title:"В&nbsp;2&nbsp;раза быстрее вашего браузера",description:"Atom<br> обрабатывает JavaScript в&nbsp;2&nbsp;раза<br> быстрее Mozilla Firefox."},chrome:{title:"На&nbsp;24% быстрее вашего браузера",description:"Atom<br> на&nbsp;24% быстрее работает с&nbsp;графикой,<br> чем Сhrome."}};!function(){if(function(e){return-1!==c.indexOf(e)}("windows")){var e=function(e){return e?!!function(e){var o=-1!==t.toLowerCase().indexOf("yabrowser");return"chrome"===e?-1!==n.indexOf(e)&&!o:"yabrowser"===e?o:-1!==n.indexOf(e)}(e)&&(function(e){r&&r.html(i[e].title),o=$(".js-feature-description-main").detach(),a&&o&&a.empty().append(o).append(" "+i[e].description)}(e),!0):null};e("edge")||e("firefox")||e("chrome")}}()}),$(document).ready(function(){function y(e){var o=-1!==l.toLowerCase().indexOf("yabrowser");return"chrome"===e?-1!==s.indexOf(e)&&!o:"yabrowser"===e?o:-1!==s.indexOf(e)}function t(){var e,o,t,n,c,r,a="#000000",i=.05*document.documentElement.clientWidth,d=.07*document.documentElement.clientWidth,l=h[0].getBoundingClientRect(),s=p[0];return y("chrome")?(p.addClass("download-hint__canvas--bottom-left"),e=document.documentElement.clientWidth/2-d,o=document.documentElement.clientHeight-l.bottom,s.height=o,r={x1:c=(s.width=e)-2,y1:0,cx1:c,cy1:5,cx2:c,cy2:(t=o/2-1)-52,x2:c,y2:t-50,cx3:c,cy3:t-31,cx4:c-5,cy4:t-20,x3:c-11,y3:t-13,cx5:c-17,cy5:t-6,cx6:c-27,cy6:t,x4:c-45,y4:t,cx7:c-47,cy7:t,cx8:59,cy8:t,x5:54,y5:t,cx9:34,cy9:t,cx10:27,cy10:t+4,x6:20,y6:t+10,cx11:15,cy11:t+15,cx12:9,cy12:t+25,x7:9,y7:t+40,cx13:9,cy13:t+45,cx14:9,cy14:o-6-5,x8:9,y8:o-6},void p.drawBezier({layer:!0,name:"arrowChrome",strokeStyle:a,strokeWidth:2,rounded:!0,endArrow:!0,arrowRadius:10,arrowAngle:90,x1:r.x1,y1:r.y1,cx1:r.cx1,cy1:r.cy1,cx2:r.cx2,cy2:r.cy2,x2:r.x2,y2:r.y2,cx3:r.cx3,cy3:r.cy3,cx4:r.cx4,cy4:r.cy4,x3:r.x3,y3:r.y3,cx5:r.cx5,cy5:r.cy5,cx6:r.cx6,cy6:r.cy6,x4:r.x4,y4:r.y4,cx7:r.cx7,cy7:r.cy7,cx8:r.cx8,cy8:r.cy8,x5:r.x5,y5:r.y5,cx9:r.cx9,cy9:r.cy9,cx10:r.cx10,cy10:r.cy10,x6:r.x6,y6:r.y6,cx11:r.cx11,cy11:r.cy11,cx12:r.cx12,cy12:r.cy12,x7:r.x7,y7:r.y7,cx13:r.cx13,cy13:r.cy13,cx14:r.cx14,cy14:r.cy14,x8:r.x8,y8:r.y8})):y("ie")||y("edge")?(m.addClass("download-hint--ie"),p.addClass("download-hint__canvas--bottom-center"),e=document.documentElement.clientWidth/2,o=document.documentElement.clientHeight-l.bottom-70,s.height=o,s.width=e,void p.drawVector({layer:!0,name:"arrowIeEdge",strokeStyle:a,strokeWidth:2,rounded:!0,endArrow:!0,arrowRadius:10,arrowAngle:90,x:e/2-1,y:0,a1:180,l1:o-5})):(e=document.documentElement.clientWidth/2-i,t=190*(o=l.top)/325,n=e-9,p.addClass("download-hint__canvas--top-right"),s.width=e,r={x1:2,y1:s.height=o,cx1:2,cy1:o-5,cx2:2,cy2:t+45,x2:2,y2:t+40,cx3:2,cy3:t+25,cx4:8,cy4:t+15,x3:13,y3:t+10,cx5:20,cy5:t+4,cx6:27,cy6:t,x4:47,y4:t,cx7:52,cy7:t,cx8:n-47,cy8:t,x5:n-45,y5:t,cx9:n-27,cy9:t,cx10:n-17,cy10:t-6,x6:n-11,y6:t-13,cx11:n-5,cy11:t-20,cx12:n,cy12:t-31,x7:n,y7:t-50,cx13:n,cy13:t-52,cx14:n,cy14:11,x8:n,y8:6},void p.drawBezier({layer:!0,name:"arrowOther",strokeStyle:a,strokeWidth:2,rounded:!0,endArrow:!0,arrowRadius:10,arrowAngle:90,x1:r.x1,y1:r.y1,cx1:r.cx1,cy1:r.cy1,cx2:r.cx2,cy2:r.cy2,x2:r.x2,y2:r.y2,cx3:r.cx3,cy3:r.cy3,cx4:r.cx4,cy4:r.cy4,x3:r.x3,y3:r.y3,cx5:r.cx5,cy5:r.cy5,cx6:r.cx6,cy6:r.cy6,x4:r.x4,y4:r.y4,cx7:r.cx7,cy7:r.cy7,cx8:r.cx8,cy8:r.cy8,x5:r.x5,y5:r.y5,cx9:r.cx9,cy9:r.cy9,cx10:r.cx10,cy10:r.cy10,x6:r.x6,y6:r.y6,cx11:r.cx11,cy11:r.cy11,cx12:r.cx12,cy12:r.cy12,x7:r.x7,y7:r.y7,cx13:r.cx13,cy13:r.cy13,cx14:r.cx14,cy14:r.cy14,x8:r.x8,y8:r.y8}))}function c(e){e.clearCanvas()}function n(e){u.addClass("page--download-hint"),e.addClass("download-hint--show"),x.hasClass("modal--show")&&x.addClass("modal--download-hint"),window.bodyScrollLock.disableBodyScroll(e[0],{reserveScrollBarGap:!0})}function r(e,o){e.removeClass("download-hint--show"),e.removeClass("download-hint--ie"),u.removeClass("page--download-hint"),x.removeClass("modal--download-hint"),o&&(o.removeClass("download-hint__canvas--bottom-left"),o.removeClass("download-hint__canvas--bottom-center"),o.removeClass("download-hint__canvas--top-right")),w&&(w.removeClass("download-hint__buoy--bottom-left"),w.removeClass("download-hint__buoy--bottom-center"),w.removeClass("download-hint__buoy--top-right"),w.removeClass("slideOutDown slideOutUp")),window.bodyScrollLock.enableBodyScroll(e[0])}function a(e,o,t,n){e.on("click",function(){r(e,o),o&&c(o),n&&n()})}function i(o,t,e,n){$(window).on("keydown",function(e){27===e.keyCode&&0<m.length&&(r(o,t),t&&c(t),n&&n())})}function d(){window.removeEventListener("resize",t)}var l=navigator.userAgent,s=detect.parse(l).browser.family.toLowerCase(),u=$(".page").first(),x=$(".js-modal-research").first(),e=$(".js-download-hint-open"),m=$(".js-download-hint").first(),o=$(".js-download-hint-buoy-open"),f=$(".js-download-hint-buoy").first(),w=$("#download-hint-buoy").first(),h=$(".download-hint__inner").first(),p=$("#download-hint-canvas").first();e.length&&e.each(function(e,o){$(o).on("click",function(e){if(n(m),y("firefox")){e.preventDefault();var o=e.currentTarget.href;setTimeout(function(){downloadFile(o)},0)}t(),window.addEventListener("resize",t),a(m,p,0,d),i(m,p,0,d)})});o.length&&o.each(function(e,o){$(o).on("click",function(e){if(function(){if(!y("chrome"))return y("ie")||y("edge")?(f.addClass("download-hint--ie"),w.addClass("download-hint__buoy--bottom-center slideInUp")):w.addClass("download-hint__buoy--top-right slideInDown");w.addClass("download-hint__buoy--bottom-left slideInUp")}(),n(f),function(){var e=w.css("animation-duration"),o=e?1e3*parseFloat(e):650;setTimeout(function(){w.removeClass("slideInUp slideInDown"),w.addClass("wiggle infinite")},o),setTimeout(function(){w.removeClass("wiggle infinite"),w.hasClass("download-hint__buoy--top-right")?w.addClass("slideOutUp"):w.addClass("slideOutDown")},8100)}(),y("firefox")){e.preventDefault();var o=e.currentTarget.href;setTimeout(function(){downloadFile(o)},0)}a(f),i(f)})})}),function(){var e=document.querySelector(".page__footer"),o=document.querySelector(".page__main");if(e&&o){var t=e.offsetHeight,n=window.getComputedStyle(o,null).getPropertyValue("padding-bottom");o.style.paddingBottom=parseInt(n,10)+t+"px"}!function(){var o=document.querySelectorAll('input[name="autorun"]');if(o.length){var t=function(e){var t=e.currentTarget.checked;[].forEach.call(o,function(e){t?(e.value="1",e.checked=!0):(e.value="0",e.checked=!1);var o=e.parentElement.parentElement.querySelector(".analytics");o&&(o.href=o.href.replace(/autorun=\d{1}/,"autorun="+e.value))})};[].forEach.call(o,function(e){e.addEventListener("change",t)})}}()}(),function(){function n(e){return-1!==r.indexOf(e)}function e(o,t){var e=o.querySelector(".modal__overlay");o.querySelector(".modal__close-btn").addEventListener("click",function(){d(o,t)}),e.addEventListener("click",function(){d(o,t)}),document.addEventListener("keydown",function(e){!function(e,o,t){27===e.keyCode&&o.classList.contains("modal--show")&&(e.preventDefault(),d(o,t))}(e,o,t)})}var o,t,c=navigator.userAgent,r=detect.parse(c).browser.family.toLowerCase(),a=document.querySelector(".js-modal-research"),i=document.querySelectorAll(".js-modal-open-research"),d=function(e,o){var t=document.querySelector(".page");t&&t.classList.remove("page--modal"),e.classList.remove("modal--show"),e.classList.remove("modal--ie"),o&&o()};function l(){window.bodyScrollLock.clearAllBodyScrollLocks(),window.bodyScrollLock.disableBodyScroll(o)}a&&i.length&&(o=a,t=i,[].forEach.call(t,function(e){e.addEventListener("click",function(e){e.preventDefault(),function(e,o){var t=document.querySelector(".page");t&&t.classList.add("page--modal"),(n("ie")||n("edge"))&&e.classList.add("modal--ie"),e.classList.add("modal--show"),o&&o()}(o,l),window.addEventListener("resize",l)})}),e(o,function(){window.bodyScrollLock.enableBodyScroll(o),window.removeEventListener("resize",l)}))}();
